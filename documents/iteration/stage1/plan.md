
# 第一阶段计划

## 🎯目标

两个部分，data-engine和data-terminal. 实现mysql表能经过ETL到达doris，并能够被查询使用。仅需要支持SQL算子， 标准化数据链路最小产品闭环.

- data-engine: 实现标准的ETL链路支撑
- data-terminal: 实现标准的ETL链路的可视化

## data-engine开发计划

- 算子任务模块
    - SQL算子
    - Python算子
    - Jar类算子(Java、scala)
- 批处理任务
    - mysql -> doris数据同步任务执行
    - DAG任务编排解析，打散为任务序列，执行任务(同步任务、算子任务)
    - 调度框架: 调度配置解析，定时启动任务
    - 任务管理: 任务流转、异常处理....
- 流处理任务
    - 流任务配置解析聚合，得到可执行的初始化任务、增量任务
    - 初始化任务: 直接查询数据源全量更新任务表，然后启动增量采集任务(mysql -> kafka)
    - 增量处理任务: 注册启动flink监听任务、监听kafka最新位点开始消费处理
    - flink任务启动、停止
    - 日志存储、查询

## data-terminal开发计划

- 权限管理
    - 仅支持管理员登陆、鉴权（管理员用户名和密码存储在配置文件）
- 数据源管理
    - 支持配置mysql数据库作为数据源
    - 数据源表列表查询
    - 数据源SQL查询
<!-- - 资源管理
    - 资源分类(数据仓库、流计算、批计算、文件系统、消息队列、缓存)
    - 支持配置doris数据仓库资源
    - 支持配置flink流计算资源 -->
- 主题管理：
    - 支配配置主题
    - 主题决定了job的执行粒度
- 明细/维度表管理
    - 支持批处理任务配置化
        - 支持配置SQL算子
        - 支持配置算子DAG编排
        - 支持配置调度信息
    - 支持流处理任务配置化
        - 支持配置清洗SQL
        - 支持配置监听SQL
- 汇总表管理
    - 支持批处理任务配置化
        - 支持配置SQL算子
        - 支持配置算子DAG编排
        - 支持配置调度信息
- 任务管理
    - 批处理任务查看、编辑、启动、暂停、重启、删除
    - 流处理任务查看、编辑、启动、暂停、重启、删除
    - 任务日志查看
- 数据服务管理
    - 支持系统服务查询
    - 支持配置查询SQL
    - 支持服务API定义: 参数、返回值、权限等
    - 网关注册定义


## 执行计划

阶段1的大体时间我初步设置为1个季度去完成，优先级为中，在空闲时间是执行。

### 1、Demo实现

如果完成，在后面标记 `--已实现`

1. data-engine: mysql -> doris数据同步demo --已实现
2. data-engine: mysql增量采集demo --已实现
3. data-terminal: 项目框架搭建 -- 已实现
4. data-terminal: 登陆页开发 -- 已经实现
5. data-terminal: 首页开发 -- 已经实现
6. data-terminal: 搭建后端并实现登陆后 -> 首页的功能实现 --实现中





